webpackJsonp([77],{"7RaR":function(a,t,e){"use strict";function s(a){return new m.a(function(t,e){var s=new FileReader;s.readAsDataURL(a),s.onload=function(){return t(s.result)},s.onerror=function(a){return e(a)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=e("Xxa5"),r=e.n(i),o=e("exGp"),n=e.n(o),l=e("Dd8w"),c=e.n(l),h=e("//Fk"),m=e.n(h),d=e("NYxO"),v={labelCol:{span:24},wrapperCol:{span:24}},u={name:"rentAdd",props:{rentAddVisiable:{default:!1}},computed:c()({},Object(d.c)({currentUser:function(a){return a.account.user}}),{show:{get:function(){return this.rentAddVisiable},set:function(){}}}),data:function(){return{formItemLayout:v,form:this.$form.createForm(this),loading:!1,fileList:[],previewVisible:!1,previewImage:"",houseList:[],houseInfo:null,houseCode:"",hasTelevision:!0,hasAirConditioner:!0,hasWardrobe:!0,hasBed:!0,hasBathroom:!0,hasDoorLock:!0,hasBalcony:!0,hasHeating:!0,hasRefrigerator:!0,hasWashingMachine:!0,hasWaterHeater:!0,hasBroadband:!0,hasSofa:!0,hasRangeHood:!0,hasGasStoves:!0,hasCook:!0}},methods:{handleSearch:function(a){var t=this;this.$get("/cos/house-info/remote",{address:a}).then(function(a){t.houseList=a.data.data})},handleChange:function(a){this.houseCode=a},handleCancel:function(){this.previewVisible=!1},handlePreview:function(a){var t=this;return n()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.url||a.preview){e.next=4;break}return e.next=3,s(a.originFileObj);case 3:a.preview=e.sent;case 4:t.previewImage=a.url||a.preview,t.previewVisible=!0;case 6:case"end":return e.stop()}},e,t)}))()},picHandleChange:function(a){var t=a.fileList;this.fileList=t},reset:function(){this.loading=!1,this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},setValues:function(a){a.hasTelevision=!0===this.hasTelevision?1:2,a.hasAirConditioner=!0===this.hasAirConditioner?1:2,a.hasWardrobe=!0===this.hasWardrobe?1:2,a.hasBed=!0===this.hasBed?1:2,a.hasBathroom=!0===this.hasBathroom?1:2,a.hasDoorLock=!0===this.hasDoorLock?1:2,a.hasBalcony=!0===this.hasBalcony?1:2,a.hasHeating=!0===this.hasHeating?1:2,a.hasRefrigerator=!0===this.hasRefrigerator?1:2,a.hasWashingMachine=!0===this.hasWashingMachine?1:2,a.hasWaterHeater=!0===this.hasWaterHeater?1:2,a.hasBroadband=!0===this.hasBroadband?1:2,a.hasSofa=!0===this.hasSofa?1:2,a.hasRangeHood=!0===this.hasRangeHood?1:2,a.hasGasStoves=!0===this.hasGasStoves?1:2,a.hasCook=!0===this.hasCook?1:2},handleSubmit:function(){var a=this;if(""===this.houseCode)return this.$message.error("请选择房屋"),!1;var t=[];this.fileList.forEach(function(a){t.push(a.response)}),this.form.validateFields(function(e,s){s.roomPictures=t.length>0?t.join(","):null,a.setValues(s),e||(s.houseCode=a.houseCode,a.loading=!0,a.$post("/cos/rent-info",c()({},s)).then(function(t){a.reset(),a.$emit("success")}).catch(function(){a.loading=!1}))})}}},g={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("a-modal",{attrs:{title:"新增出租信息",width:800},on:{cancel:a.onClose},model:{value:a.show,callback:function(t){a.show=t},expression:"show"}},[e("template",{slot:"footer"},[e("a-button",{key:"back",on:{click:a.onClose}},[a._v("\n      取消\n    ")]),a._v(" "),e("a-button",{key:"submit",attrs:{type:"primary",loading:a.loading},on:{click:a.handleSubmit}},[a._v("\n      提交\n    ")])],1),a._v(" "),e("a-form",{attrs:{form:a.form,layout:"vertical"}},[e("a-row",{attrs:{gutter:20}},[e("a-col",{attrs:{span:12}},[e("a-form-item",a._b({attrs:{label:"出租标题"}},"a-form-item",a.formItemLayout,!1),[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入出租标题!"}]}],expression:"[\n          'title',\n          { rules: [{ required: true, message: '请输入出租标题!' }] }\n          ]"}]})],1)],1),a._v(" "),e("a-col",{attrs:{span:12}},[e("a-form-item",a._b({attrs:{label:"选择房屋"}},"a-form-item",a.formItemLayout,!1),[e("a-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",value:a.houseCode,placeholder:"input search text","default-active-first-option":!1,"show-arrow":!1,"filter-option":!1,"not-found-content":null},on:{search:a.handleSearch,change:a.handleChange}},a._l(a.houseList,function(t){return e("a-select-option",{key:t.code},[a._v("\n              "+a._s(t.address)+"\n            ")])}))],1)],1),a._v(" "),e("a-col",{attrs:{span:12}},[e("a-form-item",a._b({attrs:{label:"房间类型"}},"a-form-item",a.formItemLayout,!1),[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["roomType",{rules:[{required:!0,message:"请输入房间类型!"}]}],expression:"[\n            'roomType',\n            { rules: [{ required: true, message: '请输入房间类型!' }] }\n            ]"}]},[e("a-select-option",{attrs:{value:"1"}},[a._v("主卧")]),a._v(" "),e("a-select-option",{attrs:{value:"2"}},[a._v("次卧")])],1)],1)],1),a._v(" "),e("a-col",{attrs:{span:12}},[e("a-form-item",a._b({attrs:{label:"合租类型"}},"a-form-item",a.formItemLayout,!1),[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["rentType",{rules:[{required:!0,message:"请输入合租类型!"}]}],expression:"[\n            'rentType',\n            { rules: [{ required: true, message: '请输入合租类型!' }] }\n            ]"}]},[e("a-select-option",{attrs:{value:"1"}},[a._v("整租")]),a._v(" "),e("a-select-option",{attrs:{value:"2"}},[a._v("合租")])],1)],1)],1),a._v(" "),e("a-col",{attrs:{span:12}},[e("a-form-item",{attrs:{label:"租金（每月）"}},[e("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["rentPrice"],expression:"[\n          'rentPrice'\n          ]"}],staticStyle:{width:"100%"},attrs:{min:1,step:1}})],1)],1),a._v(" "),e("a-col",{staticStyle:{margin:"25px 0px","font-size":"13px","font-family":"SimHei"},attrs:{span:24}},[e("a-row",{attrs:{gutter:10}},[e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("床")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasBed,callback:function(t){a.hasBed=t},expression:"hasBed"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/chuang.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("冰箱")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasRefrigerator,callback:function(t){a.hasRefrigerator=t},expression:"hasRefrigerator"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/dankaimenbingxiang.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("空调")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasAirConditioner,callback:function(t){a.hasAirConditioner=t},expression:"hasAirConditioner"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/kongtiao.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("宽带")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasBroadband,callback:function(t){a.hasBroadband=t},expression:"hasBroadband"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/kuandai.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("阳台")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasBalcony,callback:function(t){a.hasBalcony=t},expression:"hasBalcony"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/loutianyangtai.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("燃气灶")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasGasStoves,callback:function(t){a.hasGasStoves=t},expression:"hasGasStoves"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/ranqizao.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("热水器")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasWaterHeater,callback:function(t){a.hasWaterHeater=t},expression:"hasWaterHeater"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/reshuiqi.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("沙发")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasSofa,callback:function(t){a.hasSofa=t},expression:"hasSofa"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/shafa_1.png"}})]),a._v(" "),e("a-col",{staticStyle:{margin:"20px 0px"},attrs:{span:24}}),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("做饭")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasCook,callback:function(t){a.hasCook=t},expression:"hasCook"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/weibolu.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("卫生间")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasBathroom,callback:function(t){a.hasBathroom=t},expression:"hasBathroom"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/weiyu.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("电视")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasTelevision,callback:function(t){a.hasTelevision=t},expression:"hasTelevision"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/dianshi.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("洗衣机")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasWashingMachine,callback:function(t){a.hasWashingMachine=t},expression:"hasWashingMachine"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/xiyiji.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("衣柜")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasWardrobe,callback:function(t){a.hasWardrobe=t},expression:"hasWardrobe"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/yigui.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("油烟机")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasRangeHood,callback:function(t){a.hasRangeHood=t},expression:"hasRangeHood"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/youyanji.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("暖气")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasHeating,callback:function(t){a.hasHeating=t},expression:"hasHeating"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/zaotai.png"}})]),a._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[a._v("智能门锁")]),a._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:a.hasDoorLock,callback:function(t){a.hasDoorLock=t},expression:"hasDoorLock"}})],1),a._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/zhinengmensuo.png"}})])],1)],1),a._v(" "),e("a-col",{attrs:{span:24}},[e("a-form-item",a._b({attrs:{label:"租金备注"}},"a-form-item",a.formItemLayout,!1),[e("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["rentRemark",{rules:[{required:!0,message:"请输入!"}]}],expression:"[\n          'rentRemark',\n           { rules: [{ required: true, message: '请输入!' }] }\n          ]"}],attrs:{rows:4}})],1)],1),a._v(" "),e("a-col",{attrs:{span:24}},[e("a-form-item",a._b({attrs:{label:"出租要求"}},"a-form-item",a.formItemLayout,!1),[e("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["rentalRequest",{rules:[{required:!0,message:"请输入!"}]}],expression:"[\n          'rentalRequest',\n           { rules: [{ required: true, message: '请输入!' }] }\n          ]"}],attrs:{rows:4}})],1)],1),a._v(" "),e("a-col",{attrs:{span:24}},[e("a-form-item",a._b({attrs:{label:"房间图片"}},"a-form-item",a.formItemLayout,!1),[e("a-upload",{attrs:{name:"avatar",action:"http://backend.my.org/file/fileUpload/","list-type":"picture-card","file-list":a.fileList},on:{preview:a.handlePreview,change:a.picHandleChange}},[a.fileList.length<8?e("div",[e("a-icon",{attrs:{type:"plus"}}),a._v(" "),e("div",{staticClass:"ant-upload-text"},[a._v("\n                Upload\n              ")])],1):a._e()]),a._v(" "),e("a-modal",{attrs:{visible:a.previewVisible,footer:null},on:{cancel:a.handleCancel}},[e("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:a.previewImage}})])],1)],1)],1)],1)],2)},staticRenderFns:[]},p=e("VU/8")(u,g,!1,function(a){e("ArOb")},"data-v-282cab7e",null);t.default=p.exports},ArOb:function(a,t){}});