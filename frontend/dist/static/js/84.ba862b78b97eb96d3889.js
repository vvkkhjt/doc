webpackJsonp([84],{KoPH:function(t,a,e){"use strict";function s(t){return new m.a(function(a,e){var s=new FileReader;s.readAsDataURL(t),s.onload=function(){return a(s.result)},s.onerror=function(t){return e(t)}})}Object.defineProperty(a,"__esModule",{value:!0});var i=e("Xxa5"),r=e.n(i),n=e("exGp"),o=e.n(n),l=e("Dd8w"),c=e.n(l),h=e("//Fk"),m=e.n(h),d=e("NYxO"),v={labelCol:{span:24},wrapperCol:{span:24}},u={name:"rentAdd",props:{rentAddVisiable:{default:!1}},computed:c()({},Object(d.c)({currentUser:function(t){return t.account.user}}),{show:{get:function(){return this.rentAddVisiable},set:function(){}}}),data:function(){return{formItemLayout:v,form:this.$form.createForm(this),loading:!1,fileList:[],previewVisible:!1,previewImage:"",houseList:[],houseInfo:null,houseCode:"",hasTelevision:!0,hasAirConditioner:!0,hasWardrobe:!0,hasBed:!0,hasBathroom:!0,hasDoorLock:!0,hasBalcony:!0,hasHeating:!0,hasRefrigerator:!0,hasWashingMachine:!0,hasWaterHeater:!0,hasBroadband:!0,hasSofa:!0,hasRangeHood:!0,hasGasStoves:!0,hasCook:!0,housesList:[]}},mounted:function(){this.housesInfoByOwnerId()},methods:{housesInfoByOwnerId:function(){var t=this;this.$get("/cos/houses-info/housesListByOwnerId",{userId:this.currentUser.userId}).then(function(a){t.housesList=a.data.data})},handleSearch:function(t){var a=this;this.$get("/cos/house-info/remote",{address:t}).then(function(t){a.houseList=t.data.data})},handleChange:function(t){this.houseCode=t},handleCancel:function(){this.previewVisible=!1},handlePreview:function(t){var a=this;return o()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,s(t.originFileObj);case 3:t.preview=e.sent;case 4:a.previewImage=t.url||t.preview,a.previewVisible=!0;case 6:case"end":return e.stop()}},e,a)}))()},picHandleChange:function(t){var a=t.fileList;this.fileList=a},reset:function(){this.loading=!1,this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},setValues:function(t){t.hasTelevision=!0===this.hasTelevision?1:2,t.hasAirConditioner=!0===this.hasAirConditioner?1:2,t.hasWardrobe=!0===this.hasWardrobe?1:2,t.hasBed=!0===this.hasBed?1:2,t.hasBathroom=!0===this.hasBathroom?1:2,t.hasDoorLock=!0===this.hasDoorLock?1:2,t.hasBalcony=!0===this.hasBalcony?1:2,t.hasHeating=!0===this.hasHeating?1:2,t.hasRefrigerator=!0===this.hasRefrigerator?1:2,t.hasWashingMachine=!0===this.hasWashingMachine?1:2,t.hasWaterHeater=!0===this.hasWaterHeater?1:2,t.hasBroadband=!0===this.hasBroadband?1:2,t.hasSofa=!0===this.hasSofa?1:2,t.hasRangeHood=!0===this.hasRangeHood?1:2,t.hasGasStoves=!0===this.hasGasStoves?1:2,t.hasCook=!0===this.hasCook?1:2},handleSubmit:function(){var t=this,a=[];this.fileList.forEach(function(t){a.push(t.response)}),this.form.validateFields(function(e,s){s.images=a.length>0?a.join(","):null,t.setValues(s),e||(s.ownerId=t.currentUser.userId,t.loading=!0,t.$post("/cos/rent-info",c()({},s)).then(function(a){t.reset(),t.$emit("success")}).catch(function(){t.loading=!1}))})}}},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-modal",{attrs:{title:"新增出租信息",width:800},on:{cancel:t.onClose},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[e("template",{slot:"footer"},[e("a-button",{key:"back",on:{click:t.onClose}},[t._v("\n      取消\n    ")]),t._v(" "),e("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v("\n      提交\n    ")])],1),t._v(" "),e("a-form",{attrs:{form:t.form,layout:"vertical"}},[e("a-row",{attrs:{gutter:20}},[e("a-col",{attrs:{span:12}},[e("a-form-item",t._b({attrs:{label:"出租标题"}},"a-form-item",t.formItemLayout,!1),[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入出租标题!"}]}],expression:"[\n          'title',\n          { rules: [{ required: true, message: '请输入出租标题!' }] }\n          ]"}]})],1)],1),t._v(" "),e("a-col",{attrs:{span:12}},[e("a-form-item",t._b({attrs:{label:"选择房屋"}},"a-form-item",t.formItemLayout,!1),[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["houseId",{rules:[{required:!0,message:"请输入联系人!"}]}],expression:"[\n          'houseId',\n          { rules: [{ required: true, message: '请输入联系人!' }] }\n          ]"}],staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children"}},t._l(t.housesList,function(a,s){return e("a-select-option",{key:s,attrs:{value:a.id}},[t._v(t._s(a.address))])}))],1)],1),t._v(" "),e("a-col",{attrs:{span:12}},[e("a-form-item",t._b({attrs:{label:"类型"}},"a-form-item",t.formItemLayout,!1),[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请输入类型s!"}]}],expression:"[\n            'type',\n            { rules: [{ required: true, message: '请输入类型s!' }] }\n            ]"}]},[e("a-select-option",{attrs:{value:"1"}},[t._v("出租")]),t._v(" "),e("a-select-option",{attrs:{value:"2"}},[t._v("售卖")])],1)],1)],1),t._v(" "),e("a-col",{attrs:{span:12}},[e("a-form-item",t._b({attrs:{label:"联系人"}},"a-form-item",t.formItemLayout,!1),[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["contact",{rules:[{required:!0,message:"请输入联系人!"}]}],expression:"[\n          'contact',\n          { rules: [{ required: true, message: '请输入联系人!' }] }\n          ]"}]})],1)],1),t._v(" "),e("a-col",{attrs:{span:12}},[e("a-form-item",t._b({attrs:{label:"联系方式"}},"a-form-item",t.formItemLayout,!1),[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请输入联系方式!"}]}],expression:"[\n          'phone',\n          { rules: [{ required: true, message: '请输入联系方式!' }] }\n          ]"}]})],1)],1),t._v(" "),e("a-col",{attrs:{span:12}},[e("a-form-item",{attrs:{label:"租金"}},[e("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["rentPrice"],expression:"[\n          'rentPrice'\n          ]"}],staticStyle:{width:"100%"},attrs:{min:1,step:1}})],1)],1),t._v(" "),e("a-col",{staticStyle:{margin:"25px 0px","font-size":"13px","font-family":"SimHei"},attrs:{span:24}},[e("a-row",{attrs:{gutter:10}},[e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("床")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasBed,callback:function(a){t.hasBed=a},expression:"hasBed"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/chuang.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("冰箱")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasRefrigerator,callback:function(a){t.hasRefrigerator=a},expression:"hasRefrigerator"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/dankaimenbingxiang.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("空调")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasAirConditioner,callback:function(a){t.hasAirConditioner=a},expression:"hasAirConditioner"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/kongtiao.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("宽带")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasBroadband,callback:function(a){t.hasBroadband=a},expression:"hasBroadband"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/kuandai.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("阳台")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasBalcony,callback:function(a){t.hasBalcony=a},expression:"hasBalcony"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/loutianyangtai.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("燃气灶")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasGasStoves,callback:function(a){t.hasGasStoves=a},expression:"hasGasStoves"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/ranqizao.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("热水器")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasWaterHeater,callback:function(a){t.hasWaterHeater=a},expression:"hasWaterHeater"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/reshuiqi.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("沙发")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasSofa,callback:function(a){t.hasSofa=a},expression:"hasSofa"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/shafa_1.png"}})]),t._v(" "),e("a-col",{staticStyle:{margin:"20px 0px"},attrs:{span:24}}),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("做饭")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasCook,callback:function(a){t.hasCook=a},expression:"hasCook"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/weibolu.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("卫生间")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasBathroom,callback:function(a){t.hasBathroom=a},expression:"hasBathroom"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/weiyu.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("电视")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasTelevision,callback:function(a){t.hasTelevision=a},expression:"hasTelevision"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/dianshi.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("洗衣机")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasWashingMachine,callback:function(a){t.hasWashingMachine=a},expression:"hasWashingMachine"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/xiyiji.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("衣柜")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasWardrobe,callback:function(a){t.hasWardrobe=a},expression:"hasWardrobe"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/yigui.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("油烟机")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasRangeHood,callback:function(a){t.hasRangeHood=a},expression:"hasRangeHood"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/youyanji.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("暖气")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasHeating,callback:function(a){t.hasHeating=a},expression:"hasHeating"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/zaotai.png"}})]),t._v(" "),e("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[e("div",[t._v("智能门锁")]),t._v(" "),e("div",{staticStyle:{"margin-bottom":"8px"}},[e("a-switch",{attrs:{size:"small"},model:{value:t.hasDoorLock,callback:function(a){t.hasDoorLock=a},expression:"hasDoorLock"}})],1),t._v(" "),e("img",{attrs:{src:"http://backend.my.org/imagesWeb/zhinengmensuo.png"}})])],1)],1),t._v(" "),e("a-col",{attrs:{span:24}},[e("a-form-item",t._b({attrs:{label:"出租要求"}},"a-form-item",t.formItemLayout,!1),[e("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{rules:[{required:!0,message:"请输入!"}]}],expression:"[\n          'content',\n           { rules: [{ required: true, message: '请输入!' }] }\n          ]"}],attrs:{rows:4}})],1)],1),t._v(" "),e("a-col",{attrs:{span:24}},[e("a-form-item",t._b({attrs:{label:"房间图片"}},"a-form-item",t.formItemLayout,!1),[e("a-upload",{attrs:{name:"avatar",action:"http://backend.my.org/file/fileUpload/","list-type":"picture-card","file-list":t.fileList},on:{preview:t.handlePreview,change:t.picHandleChange}},[t.fileList.length<8?e("div",[e("a-icon",{attrs:{type:"plus"}}),t._v(" "),e("div",{staticClass:"ant-upload-text"},[t._v("\n                Upload\n              ")])],1):t._e()]),t._v(" "),e("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleCancel}},[e("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})])],1)],1)],1)],1)],2)},staticRenderFns:[]},p=e("VU/8")(u,g,!1,function(t){e("KqDs")},"data-v-0b4c72dc",null);a.default=p.exports},KqDs:function(t,a){}});