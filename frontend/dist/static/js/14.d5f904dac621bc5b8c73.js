webpackJsonp([14,70,84],{"78SO":function(t,e){},KBf7:function(t,e,a){"use strict";function s(t){return new g.a(function(e,a){var s=new FileReader;s.readAsDataURL(t),s.onload=function(){return e(s.result)},s.onerror=function(t){return a(t)}})}Object.defineProperty(e,"__esModule",{value:!0});var i=a("fZjL"),n=a.n(i),r=a("+6Bu"),o=a.n(r),l=a("Xxa5"),c=a.n(l),h=a("exGp"),d=a.n(h),u=a("Dd8w"),m=a.n(u),v=a("//Fk"),g=a.n(v),p=a("NYxO"),f={labelCol:{span:24},wrapperCol:{span:24}},b={name:"rentEdit",props:{rentEditVisiable:{default:!1}},computed:m()({},Object(p.c)({currentUser:function(t){return t.account.user}}),{show:{get:function(){return this.rentEditVisiable},set:function(){}}}),data:function(){return{rowId:null,formItemLayout:f,form:this.$form.createForm(this),loading:!1,fileList:[],previewVisible:!1,previewImage:"",houseList:[],houseInfo:null,houseAddress:"",hasTelevision:!0,hasAirConditioner:!0,hasWardrobe:!0,hasBed:!0,hasBathroom:!0,hasDoorLock:!0,hasBalcony:!0,hasHeating:!0,hasRefrigerator:!0,hasWashingMachine:!0,hasWaterHeater:!0,hasBroadband:!0,hasSofa:!0,hasRangeHood:!0,hasGasStoves:!0,hasCook:!0,housesList:[]}},mounted:function(){this.housesInfoByOwnerId()},methods:{housesInfoByOwnerId:function(){var t=this;this.$get("/cos/houses-info/housesListByOwnerId",{userId:this.currentUser.userId}).then(function(e){t.housesList=e.data.data})},handleSearch:function(t){var e=this;this.$get("/cos/house-info/remote",{address:t}).then(function(t){e.houseList=t.data.data})},handleChange:function(t){this.houseCode=t},handleCancel:function(){this.previewVisible=!1},handlePreview:function(t){var e=this;return d()(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.url||t.preview){a.next=4;break}return a.next=3,s(t.originFileObj);case 3:t.preview=a.sent;case 4:e.previewImage=t.url||t.preview,e.previewVisible=!0;case 6:case"end":return a.stop()}},a,e)}))()},picHandleChange:function(t){var e=t.fileList;this.fileList=e},imagesInit:function(t){if(null!==t&&""!==t){var e=[];t.split(",").forEach(function(t,a){e.push({uid:a,name:t,status:"done",url:"http://backend.my.org/imagesWeb/"+t})}),this.fileList=e}},setFormValues:function(t){var e=this,a=o()(t,[]);this.rowId=a.id;var s=["title","houseId","rentPrice","content","contact","phone","type","images"],i={};this.setFormDeviceValues(a),n()(a).forEach(function(t){"images"===t&&(e.fileList=[],e.imagesInit(a.images)),"type"===t&&(a[t]=a[t].toString()),-1!==s.indexOf(t)&&(e.form.getFieldDecorator(t),i[t]=a[t])}),this.form.setFieldsValue(i)},reset:function(){this.loading=!1,this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},setFormDeviceValues:function(t){this.hasTelevision=1===t.hasTelevision,this.hasAirConditioner=1===t.hasAirConditioner,this.hasWardrobe=1===t.hasWardrobe,this.hasBed=1===t.hasBed,this.hasBathroom=1===t.hasBathroom,this.hasDoorLock=1===t.hasDoorLock,this.hasBalcony=1===t.hasBalcony,this.hasHeating=1===t.hasHeating,this.hasRefrigerator=1===t.hasRefrigerator,this.hasWashingMachine=1===t.hasWashingMachine,this.hasWaterHeater=1===t.hasWaterHeater,this.hasBroadband=1===t.hasBroadband,this.hasSofa=1===t.hasSofa,this.hasRangeHood=1===t.hasRangeHood,this.hasGasStoves=1===t.hasGasStoves,this.hasCook=1===t.hasCook},setValues:function(t){t.hasTelevision=!0===this.hasTelevision?1:2,t.hasAirConditioner=!0===this.hasAirConditioner?1:2,t.hasWardrobe=!0===this.hasWardrobe?1:2,t.hasBed=!0===this.hasBed?1:2,t.hasBathroom=!0===this.hasBathroom?1:2,t.hasDoorLock=!0===this.hasDoorLock?1:2,t.hasBalcony=!0===this.hasBalcony?1:2,t.hasHeating=!0===this.hasHeating?1:2,t.hasRefrigerator=!0===this.hasRefrigerator?1:2,t.hasWashingMachine=!0===this.hasWashingMachine?1:2,t.hasWaterHeater=!0===this.hasWaterHeater?1:2,t.hasBroadband=!0===this.hasBroadband?1:2,t.hasSofa=!0===this.hasSofa?1:2,t.hasRangeHood=!0===this.hasRangeHood?1:2,t.hasGasStoves=!0===this.hasGasStoves?1:2,t.hasCook=!0===this.hasCook?1:2},handleSubmit:function(){var t=this,e=[];this.fileList.forEach(function(t){void 0!==t.response?e.push(t.response):e.push(t.name)}),this.form.validateFields(function(a,s){s.id=t.rowId,s.images=e.length>0?e.join(","):null,t.setValues(s),a||(t.loading=!0,t.$put("/cos/rent-info",m()({},s)).then(function(e){t.reset(),t.$emit("success")}).catch(function(){t.loading=!1}))})}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"修改出租信息",width:800},on:{cancel:t.onClose},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:t.onClose}},[t._v("\n      取消\n    ")]),t._v(" "),a("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v("\n      修改\n    ")])],1),t._v(" "),a("a-form",{attrs:{form:t.form,layout:"vertical"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"出租标题"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入出租标题!"}]}],expression:"[\n          'title',\n          { rules: [{ required: true, message: '请输入出租标题!' }] }\n          ]"}]})],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"选择房屋"}},"a-form-item",t.formItemLayout,!1),[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["houseId",{rules:[{required:!0,message:"请输入联系人!"}]}],expression:"[\n          'houseId',\n          { rules: [{ required: true, message: '请输入联系人!' }] }\n          ]"}],staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children"}},t._l(t.housesList,function(e,s){return a("a-select-option",{key:s,attrs:{value:e.id}},[t._v(t._s(e.address))])}))],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"类型"}},"a-form-item",t.formItemLayout,!1),[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请输入类型s!"}]}],expression:"[\n            'type',\n            { rules: [{ required: true, message: '请输入类型s!' }] }\n            ]"}]},[a("a-select-option",{attrs:{value:"1"}},[t._v("出租")]),t._v(" "),a("a-select-option",{attrs:{value:"2"}},[t._v("售卖")])],1)],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"联系人"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["contact",{rules:[{required:!0,message:"请输入联系人!"}]}],expression:"[\n          'contact',\n          { rules: [{ required: true, message: '请输入联系人!' }] }\n          ]"}]})],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"联系方式"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请输入联系方式!"}]}],expression:"[\n          'phone',\n          { rules: [{ required: true, message: '请输入联系方式!' }] }\n          ]"}]})],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"租金"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["rentPrice"],expression:"[\n          'rentPrice'\n          ]"}],staticStyle:{width:"100%"},attrs:{min:1,step:1}})],1)],1),t._v(" "),a("a-col",{staticStyle:{margin:"25px 0px","font-size":"13px","font-family":"SimHei"},attrs:{span:24}},[a("a-row",{attrs:{gutter:10}},[a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("床")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasBed,callback:function(e){t.hasBed=e},expression:"hasBed"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/chuang.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("冰箱")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasRefrigerator,callback:function(e){t.hasRefrigerator=e},expression:"hasRefrigerator"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/dankaimenbingxiang.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("空调")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasAirConditioner,callback:function(e){t.hasAirConditioner=e},expression:"hasAirConditioner"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/kongtiao.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("宽带")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasBroadband,callback:function(e){t.hasBroadband=e},expression:"hasBroadband"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/kuandai.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("阳台")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasBalcony,callback:function(e){t.hasBalcony=e},expression:"hasBalcony"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/loutianyangtai.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("燃气灶")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasGasStoves,callback:function(e){t.hasGasStoves=e},expression:"hasGasStoves"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/ranqizao.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("热水器")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasWaterHeater,callback:function(e){t.hasWaterHeater=e},expression:"hasWaterHeater"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/reshuiqi.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("沙发")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasSofa,callback:function(e){t.hasSofa=e},expression:"hasSofa"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/shafa_1.png"}})]),t._v(" "),a("a-col",{staticStyle:{margin:"20px 0px"},attrs:{span:24}}),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("做饭")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasCook,callback:function(e){t.hasCook=e},expression:"hasCook"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/weibolu.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("卫生间")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasBathroom,callback:function(e){t.hasBathroom=e},expression:"hasBathroom"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/weiyu.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("电视")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasTelevision,callback:function(e){t.hasTelevision=e},expression:"hasTelevision"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/dianshi.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("洗衣机")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasWashingMachine,callback:function(e){t.hasWashingMachine=e},expression:"hasWashingMachine"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/xiyiji.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("衣柜")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasWardrobe,callback:function(e){t.hasWardrobe=e},expression:"hasWardrobe"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/yigui.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("油烟机")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasRangeHood,callback:function(e){t.hasRangeHood=e},expression:"hasRangeHood"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/youyanji.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("暖气")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasHeating,callback:function(e){t.hasHeating=e},expression:"hasHeating"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/zaotai.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("智能门锁")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasDoorLock,callback:function(e){t.hasDoorLock=e},expression:"hasDoorLock"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/zhinengmensuo.png"}})])],1)],1),t._v(" "),a("a-col",{attrs:{span:24}},[a("a-form-item",t._b({attrs:{label:"出租要求"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{rules:[{required:!0,message:"请输入!"}]}],expression:"[\n          'content',\n           { rules: [{ required: true, message: '请输入!' }] }\n          ]"}],attrs:{rows:4}})],1)],1),t._v(" "),a("a-col",{attrs:{span:24}},[a("a-form-item",t._b({attrs:{label:"房间图片"}},"a-form-item",t.formItemLayout,!1),[a("a-upload",{attrs:{name:"avatar",action:"http://backend.my.org/file/fileUpload/","list-type":"picture-card","file-list":t.fileList},on:{preview:t.handlePreview,change:t.picHandleChange}},[t.fileList.length<8?a("div",[a("a-icon",{attrs:{type:"plus"}}),t._v(" "),a("div",{staticClass:"ant-upload-text"},[t._v("\n                Upload\n              ")])],1):t._e()]),t._v(" "),a("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})])],1)],1)],1)],1)],2)},staticRenderFns:[]},y=a("VU/8")(b,_,!1,function(t){a("Tph1")},"data-v-3b5a134b",null);e.default=y.exports},KoPH:function(t,e,a){"use strict";function s(t){return new d.a(function(e,a){var s=new FileReader;s.readAsDataURL(t),s.onload=function(){return e(s.result)},s.onerror=function(t){return a(t)}})}Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),r=a("exGp"),o=a.n(r),l=a("Dd8w"),c=a.n(l),h=a("//Fk"),d=a.n(h),u=a("NYxO"),m={labelCol:{span:24},wrapperCol:{span:24}},v={name:"rentAdd",props:{rentAddVisiable:{default:!1}},computed:c()({},Object(u.c)({currentUser:function(t){return t.account.user}}),{show:{get:function(){return this.rentAddVisiable},set:function(){}}}),data:function(){return{formItemLayout:m,form:this.$form.createForm(this),loading:!1,fileList:[],previewVisible:!1,previewImage:"",houseList:[],houseInfo:null,houseCode:"",hasTelevision:!0,hasAirConditioner:!0,hasWardrobe:!0,hasBed:!0,hasBathroom:!0,hasDoorLock:!0,hasBalcony:!0,hasHeating:!0,hasRefrigerator:!0,hasWashingMachine:!0,hasWaterHeater:!0,hasBroadband:!0,hasSofa:!0,hasRangeHood:!0,hasGasStoves:!0,hasCook:!0,housesList:[]}},mounted:function(){this.housesInfoByOwnerId()},methods:{housesInfoByOwnerId:function(){var t=this;this.$get("/cos/houses-info/housesListByOwnerId",{userId:this.currentUser.userId}).then(function(e){t.housesList=e.data.data})},handleSearch:function(t){var e=this;this.$get("/cos/house-info/remote",{address:t}).then(function(t){e.houseList=t.data.data})},handleChange:function(t){this.houseCode=t},handleCancel:function(){this.previewVisible=!1},handlePreview:function(t){var e=this;return o()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.url||t.preview){a.next=4;break}return a.next=3,s(t.originFileObj);case 3:t.preview=a.sent;case 4:e.previewImage=t.url||t.preview,e.previewVisible=!0;case 6:case"end":return a.stop()}},a,e)}))()},picHandleChange:function(t){var e=t.fileList;this.fileList=e},reset:function(){this.loading=!1,this.form.resetFields()},onClose:function(){this.reset(),this.$emit("close")},setValues:function(t){t.hasTelevision=!0===this.hasTelevision?1:2,t.hasAirConditioner=!0===this.hasAirConditioner?1:2,t.hasWardrobe=!0===this.hasWardrobe?1:2,t.hasBed=!0===this.hasBed?1:2,t.hasBathroom=!0===this.hasBathroom?1:2,t.hasDoorLock=!0===this.hasDoorLock?1:2,t.hasBalcony=!0===this.hasBalcony?1:2,t.hasHeating=!0===this.hasHeating?1:2,t.hasRefrigerator=!0===this.hasRefrigerator?1:2,t.hasWashingMachine=!0===this.hasWashingMachine?1:2,t.hasWaterHeater=!0===this.hasWaterHeater?1:2,t.hasBroadband=!0===this.hasBroadband?1:2,t.hasSofa=!0===this.hasSofa?1:2,t.hasRangeHood=!0===this.hasRangeHood?1:2,t.hasGasStoves=!0===this.hasGasStoves?1:2,t.hasCook=!0===this.hasCook?1:2},handleSubmit:function(){var t=this,e=[];this.fileList.forEach(function(t){e.push(t.response)}),this.form.validateFields(function(a,s){s.images=e.length>0?e.join(","):null,t.setValues(s),a||(s.ownerId=t.currentUser.userId,t.loading=!0,t.$post("/cos/rent-info",c()({},s)).then(function(e){t.reset(),t.$emit("success")}).catch(function(){t.loading=!1}))})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"新增出租信息",width:800},on:{cancel:t.onClose},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("template",{slot:"footer"},[a("a-button",{key:"back",on:{click:t.onClose}},[t._v("\n      取消\n    ")]),t._v(" "),a("a-button",{key:"submit",attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v("\n      提交\n    ")])],1),t._v(" "),a("a-form",{attrs:{form:t.form,layout:"vertical"}},[a("a-row",{attrs:{gutter:20}},[a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"出租标题"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入出租标题!"}]}],expression:"[\n          'title',\n          { rules: [{ required: true, message: '请输入出租标题!' }] }\n          ]"}]})],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"选择房屋"}},"a-form-item",t.formItemLayout,!1),[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["houseId",{rules:[{required:!0,message:"请输入联系人!"}]}],expression:"[\n          'houseId',\n          { rules: [{ required: true, message: '请输入联系人!' }] }\n          ]"}],staticStyle:{width:"100%"},attrs:{showSearch:"",optionFilterProp:"children"}},t._l(t.housesList,function(e,s){return a("a-select-option",{key:s,attrs:{value:e.id}},[t._v(t._s(e.address))])}))],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"类型"}},"a-form-item",t.formItemLayout,!1),[a("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["type",{rules:[{required:!0,message:"请输入类型s!"}]}],expression:"[\n            'type',\n            { rules: [{ required: true, message: '请输入类型s!' }] }\n            ]"}]},[a("a-select-option",{attrs:{value:"1"}},[t._v("出租")]),t._v(" "),a("a-select-option",{attrs:{value:"2"}},[t._v("售卖")])],1)],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"联系人"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["contact",{rules:[{required:!0,message:"请输入联系人!"}]}],expression:"[\n          'contact',\n          { rules: [{ required: true, message: '请输入联系人!' }] }\n          ]"}]})],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",t._b({attrs:{label:"联系方式"}},"a-form-item",t.formItemLayout,!1),[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请输入联系方式!"}]}],expression:"[\n          'phone',\n          { rules: [{ required: true, message: '请输入联系方式!' }] }\n          ]"}]})],1)],1),t._v(" "),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"租金"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["rentPrice"],expression:"[\n          'rentPrice'\n          ]"}],staticStyle:{width:"100%"},attrs:{min:1,step:1}})],1)],1),t._v(" "),a("a-col",{staticStyle:{margin:"25px 0px","font-size":"13px","font-family":"SimHei"},attrs:{span:24}},[a("a-row",{attrs:{gutter:10}},[a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("床")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasBed,callback:function(e){t.hasBed=e},expression:"hasBed"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/chuang.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("冰箱")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasRefrigerator,callback:function(e){t.hasRefrigerator=e},expression:"hasRefrigerator"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/dankaimenbingxiang.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("空调")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasAirConditioner,callback:function(e){t.hasAirConditioner=e},expression:"hasAirConditioner"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/kongtiao.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("宽带")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasBroadband,callback:function(e){t.hasBroadband=e},expression:"hasBroadband"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/kuandai.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("阳台")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasBalcony,callback:function(e){t.hasBalcony=e},expression:"hasBalcony"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/loutianyangtai.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("燃气灶")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasGasStoves,callback:function(e){t.hasGasStoves=e},expression:"hasGasStoves"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/ranqizao.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("热水器")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasWaterHeater,callback:function(e){t.hasWaterHeater=e},expression:"hasWaterHeater"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/reshuiqi.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("沙发")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasSofa,callback:function(e){t.hasSofa=e},expression:"hasSofa"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/shafa_1.png"}})]),t._v(" "),a("a-col",{staticStyle:{margin:"20px 0px"},attrs:{span:24}}),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("做饭")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasCook,callback:function(e){t.hasCook=e},expression:"hasCook"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/weibolu.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("卫生间")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasBathroom,callback:function(e){t.hasBathroom=e},expression:"hasBathroom"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/weiyu.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("电视")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasTelevision,callback:function(e){t.hasTelevision=e},expression:"hasTelevision"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/dianshi.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("洗衣机")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasWashingMachine,callback:function(e){t.hasWashingMachine=e},expression:"hasWashingMachine"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/xiyiji.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("衣柜")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasWardrobe,callback:function(e){t.hasWardrobe=e},expression:"hasWardrobe"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/yigui.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("油烟机")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasRangeHood,callback:function(e){t.hasRangeHood=e},expression:"hasRangeHood"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/youyanji.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("暖气")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasHeating,callback:function(e){t.hasHeating=e},expression:"hasHeating"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/zaotai.png"}})]),t._v(" "),a("a-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("div",[t._v("智能门锁")]),t._v(" "),a("div",{staticStyle:{"margin-bottom":"8px"}},[a("a-switch",{attrs:{size:"small"},model:{value:t.hasDoorLock,callback:function(e){t.hasDoorLock=e},expression:"hasDoorLock"}})],1),t._v(" "),a("img",{attrs:{src:"http://backend.my.org/imagesWeb/zhinengmensuo.png"}})])],1)],1),t._v(" "),a("a-col",{attrs:{span:24}},[a("a-form-item",t._b({attrs:{label:"出租要求"}},"a-form-item",t.formItemLayout,!1),[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["content",{rules:[{required:!0,message:"请输入!"}]}],expression:"[\n          'content',\n           { rules: [{ required: true, message: '请输入!' }] }\n          ]"}],attrs:{rows:4}})],1)],1),t._v(" "),a("a-col",{attrs:{span:24}},[a("a-form-item",t._b({attrs:{label:"房间图片"}},"a-form-item",t.formItemLayout,!1),[a("a-upload",{attrs:{name:"avatar",action:"http://backend.my.org/file/fileUpload/","list-type":"picture-card","file-list":t.fileList},on:{preview:t.handlePreview,change:t.picHandleChange}},[t.fileList.length<8?a("div",[a("a-icon",{attrs:{type:"plus"}}),t._v(" "),a("div",{staticClass:"ant-upload-text"},[t._v("\n                Upload\n              ")])],1):t._e()]),t._v(" "),a("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleCancel}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})])],1)],1)],1)],1)],2)},staticRenderFns:[]},p=a("VU/8")(v,g,!1,function(t){a("KqDs")},"data-v-0b4c72dc",null);e.default=p.exports},KqDs:function(t,e){},Tph1:function(t,e){},UOjN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),n=a("JpjP"),r=a("KoPH"),o=a("KBf7"),l=a("NYxO"),c=a("PJh5"),h=a.n(c),d=a("WhIJ");h.a.locale("zh-cn");var u={name:"rent",components:{RentView:d.default,rentAdd:r.default,rentEdit:o.default,RangeDate:n.a},data:function(){return{advanced:!1,rentAdd:{visiable:!1},rentEdit:{visiable:!1},rentView:{visiable:!1,data:null},rentPushpin:{visiable:!1,chargeId:""},queryParams:{},filteredInfo:null,sortedInfo:null,paginationInfo:null,dataSource:[],selectedRowKeys:[],loading:!1,pagination:{pageSizeOptions:["10","20","30","40","100"],defaultCurrent:1,defaultPageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(t,e){return"显示 "+e[0]+" ~ "+e[1]+" 条记录，共 "+t+" 条记录"}},userDrawer:!1,staff:null}},computed:i()({},Object(l.c)({currentUser:function(t){return t.account.user}}),{columns:function(){var t=this.$createElement;return[{title:"出租标题",dataIndex:"title",scopedSlots:{customRender:"titleShow"}},{title:"房屋地址",dataIndex:"address"},{title:"联系方式",dataIndex:"phone",customRender:function(t,e,a){return null!==t?t:"- -"}},{title:"联系人",dataIndex:"contact",customRender:function(t,e,a){return null!==t?t:"- -"}},{title:"出租类型",dataIndex:"type",customRender:function(e,a,s){switch(e){case 1:return t("a-tag",["出租"]);case 2:return t("a-tag",["售卖"]);default:return"- -"}}},{title:"租金",dataIndex:"rentPrice",customRender:function(t,e,a){return null!==t?t+"元":"- -"}},{title:"出租状态",dataIndex:"delFlag",customRender:function(e,a,s){switch(e){case 1:return t("a-tag",{attrs:{color:"green"}},["上架"]);case 2:return t("a-tag",{attrs:{color:"red"}},["下架"]);default:return"- -"}}},{title:"房屋照片",dataIndex:"images",customRender:function(e,a,s){return a.images?t("a-popover",[t("template",{slot:"content"},[t("a-avatar",{attrs:{shape:"square",size:132,icon:"user",src:"http://backend.my.org/imagesWeb/"+a.images.split(",")[0]}})]),t("a-avatar",{attrs:{shape:"square",icon:"user",src:"http://backend.my.org/imagesWeb/"+a.images.split(",")[0]}})]):t("a-avatar",{attrs:{shape:"square",icon:"user"}})}},{title:"门牌号",dataIndex:"number",customRender:function(t,e,a){return null!==t?t:"- -"}},{title:"楼层",dataIndex:"floor",customRender:function(t,e,a){return null!==t?t+"层":"- -"}},{title:"创建时间",dataIndex:"createDate",customRender:function(t,e,a){return null!==t?t:"- -"}},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}]}}),mounted:function(){this.fetch()},methods:{handlerUserClosed:function(){this.userDrawer=!1,this.search()},rentPushpinClose:function(){this.rentPushpin.visiable=!1,this.search()},rentPushpinSuccess:function(){this.rentPushpin.visiable=!1,this.$message.success("成功添加合同"),this.search()},checkStaff:function(t){this.userDrawer=!0,this.rentView.data=t},pushpin:function(t){this.rentPushpin.visiable=!0,this.rentPushpin.chargeId=t.chargeId},onSelectChange:function(t){this.selectedRowKeys=t},toggleAdvanced:function(){this.advanced=!this.advanced},add:function(){this.rentAdd.visiable=!0},handlerentAddClose:function(){this.rentAdd.visiable=!1},handlerentAddSuccess:function(){this.rentAdd.visiable=!1,this.$message.success("新增租房信息成功"),this.search()},audit:function(t,e){var a=this;this.$get("/cos/rent-info/setStatus",{rentId:t,status:e}).then(function(t){a.$message.success("更新状态成功"),a.search()})},view:function(t){this.rentView.visiable=!0,this.rentView.data=t},edit:function(t){this.$refs.rentEdit.setFormValues(t),this.rentEdit.visiable=!0},handlerentEditClose:function(){this.rentEdit.visiable=!1},handlerentEditSuccess:function(){this.rentEdit.visiable=!1,this.$message.success("修改租房信息成功"),this.search()},handleDeptChange:function(t){this.queryParams.deptId=t||""},batchDelete:function(){if(this.selectedRowKeys.length){var t=this;this.$confirm({title:"确定删除所选中的记录?",content:"当您点击确定按钮后，这些记录将会被彻底删除",centered:!0,onOk:function(){var e=t.selectedRowKeys.join(",");t.$delete("/cos/rent-info/"+e).then(function(){t.$message.success("删除成功"),t.selectedRowKeys=[],t.search()})},onCancel:function(){t.selectedRowKeys=[]}})}else this.$message.warning("请选择需要删除的记录")},search:function(){var t=this.sortedInfo,e=this.filteredInfo,a=void 0,s=void 0;t&&(a=t.field,s=t.order),this.fetch(i()({sortField:a,sortOrder:s},this.queryParams,e))},reset:function(){this.selectedRowKeys=[],this.$refs.TableInfo.pagination.current=this.pagination.defaultCurrent,this.paginationInfo&&(this.paginationInfo.current=this.pagination.defaultCurrent,this.paginationInfo.pageSize=this.pagination.defaultPageSize),this.filteredInfo=null,this.sortedInfo=null,this.queryParams={},this.fetch()},handleTableChange:function(t,e,a){this.paginationInfo=t,this.filteredInfo=e,this.sortedInfo=a,this.fetch(i()({sortField:a.field,sortOrder:a.order},this.queryParams,e))},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.paginationInfo?(this.$refs.TableInfo.pagination.current=this.paginationInfo.current,this.$refs.TableInfo.pagination.pageSize=this.paginationInfo.pageSize,e.size=this.paginationInfo.pageSize,e.current=this.paginationInfo.current):(e.size=this.pagination.defaultPageSize,e.current=this.pagination.defaultCurrent),e.ownerId=this.currentUser.userId,this.$get("/cos/rent-info/page",i()({},e)).then(function(e){var a=e.data.data,s=i()({},t.pagination);s.total=a.total,t.dataSource=a.records,t.pagination=s,t.loading=!1})}},watch:{}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[a("div",{class:t.advanced?"search":null},[a("a-form",{attrs:{layout:"horizontal"}},[a("a-row",{attrs:{gutter:15}},[a("div",{class:t.advanced?null:"fold"},[a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"出租标题",labelCol:{span:4},wrapperCol:{span:18,offset:2}}},[a("a-input",{model:{value:t.queryParams.title,callback:function(e){t.$set(t.queryParams,"title",e)},expression:"queryParams.title"}})],1)],1),t._v(" "),a("a-col",{attrs:{md:6,sm:24}},[a("a-form-item",{attrs:{label:"房屋地址",labelCol:{span:4},wrapperCol:{span:18,offset:2}}},[a("a-input",{model:{value:t.queryParams.address,callback:function(e){t.$set(t.queryParams,"address",e)},expression:"queryParams.address"}})],1)],1)],1),t._v(" "),a("span",{staticStyle:{float:"right","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.reset}},[t._v("重置")])],1)])],1)],1),t._v(" "),a("div",[a("div",{staticClass:"operator"},[a("a-button",{attrs:{type:"primary",ghost:""},on:{click:t.add}},[t._v("新增")]),t._v(" "),a("a-button",{on:{click:t.batchDelete}},[t._v("删除")])],1),t._v(" "),a("a-table",{ref:"TableInfo",attrs:{columns:t.columns,rowKey:function(t){return t.id},dataSource:t.dataSource,pagination:t.pagination,loading:t.loading,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange},scroll:{x:900}},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"titleShow",fn:function(e,s){return[[1===s.rackUp?a("a-badge",{attrs:{status:"processing"}}):t._e(),t._v(" "),0===s.rackUp?a("a-badge",{attrs:{status:"error"}}):t._e(),t._v(" "),a("a-tooltip",[a("template",{slot:"title"},[t._v("\n              "+t._s(s.title)+"\n            ")]),t._v("\n            "+t._s(s.title.slice(0,8))+" ...\n          ")],2)]]}},{key:"contentShow",fn:function(e,s){return[[a("a-tooltip",[a("template",{slot:"title"},[t._v("\n              "+t._s(s.houseAddress)+"\n            ")]),t._v("\n            "+t._s(s.houseAddress.slice(0,10))+" ...\n          ")],2)]]}},{key:"rentalRequestShow",fn:function(e,s){return[[a("a-tooltip",[a("template",{slot:"title"},[t._v("\n              "+t._s(s.rentalRequest)+"\n            ")]),t._v("\n            "+t._s(s.rentalRequest.slice(0,15))+" ...\n          ")],2)]]}},{key:"operation",fn:function(e,s){return[1===s.delFlag?a("a-icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"caret-down",title:"下 架"},on:{click:function(e){t.audit(s.id,2)}}}):t._e(),t._v(" "),2===s.delFlag?a("a-icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"caret-up",title:"上 架"},on:{click:function(e){t.audit(s.id,1)}}}):t._e(),t._v(" "),a("a-icon",{staticStyle:{"margin-right":"10px"},attrs:{type:"bulb",title:"详 情"},on:{click:function(e){t.view(s)}}}),t._v(" "),a("a-icon",{attrs:{type:"setting",theme:"twoTone",twoToneColor:"#4a9ff5",title:"修 改"},on:{click:function(e){t.edit(s)}}})]}}])})],1),t._v(" "),t.rentAdd.visiable?a("rent-add",{attrs:{rentAddVisiable:t.rentAdd.visiable},on:{close:t.handlerentAddClose,success:t.handlerentAddSuccess}}):t._e(),t._v(" "),a("rent-edit",{ref:"rentEdit",attrs:{rentEditVisiable:t.rentEdit.visiable},on:{close:t.handlerentEditClose,success:t.handlerentEditSuccess}}),t._v(" "),a("rent-view",{attrs:{rentShow:t.rentView.visiable,rentData:t.rentView.data},on:{close:function(e){t.rentView.visiable=!1}}})],1)},staticRenderFns:[]},v=a("VU/8")(u,m,!1,function(t){a("78SO")},"data-v-64d40726",null);e.default=v.exports}});